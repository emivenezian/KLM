{"ast":null,"code":"var _jsxFileName = \"/Users/emivenezian/Desktop/universidad/ingeniera/an\\u0303os/cuarto/Segundo Semestre/AviationOptimization/KLM_Projects/KLM_Modified/app/frontend/src/components/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { optimizationAPI } from '../services/api';\nimport FlightSelector from './FlightSelector';\nimport OptimizationControls from './OptimizationControls';\nimport ResultsVisualization from './ResultsVisualization';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [flights, setFlights] = useState([]);\n  const [selectedFlight, setSelectedFlight] = useState('');\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    loadFlights();\n  }, []);\n  const loadFlights = async () => {\n    try {\n      const flightList = await optimizationAPI.listFlights();\n      setFlights(flightList);\n      if (flightList.length > 0) {\n        setSelectedFlight(flightList[0]);\n      }\n    } catch (err) {\n      setError(`Failed to load flights: ${err.message}`);\n    }\n  };\n  const runOptimization = async request => {\n    setLoading(true);\n    setError(null);\n    setResult(null);\n    try {\n      const optimizationResult = await optimizationAPI.run(request);\n      setResult(optimizationResult);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || `Optimization failed: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-content\",\n    children: [/*#__PURE__*/_jsxDEV(FlightSelector, {\n      flights: flights,\n      selectedFlight: selectedFlight,\n      onSelectFlight: setSelectedFlight,\n      onRefresh: loadFlights\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OptimizationControls, {\n      selectedFlight: selectedFlight,\n      onRun: runOptimization,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Error:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), result && /*#__PURE__*/_jsxDEV(ResultsVisualization, {\n      result: result\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"CbOXHEL/80G7K+k2DFIRwZc9wnM=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","optimizationAPI","FlightSelector","OptimizationControls","ResultsVisualization","jsxDEV","_jsxDEV","Dashboard","_s","flights","setFlights","selectedFlight","setSelectedFlight","result","setResult","loading","setLoading","error","setError","loadFlights","flightList","listFlights","length","err","message","runOptimization","request","optimizationResult","run","_err$response","_err$response$data","response","data","detail","className","children","onSelectFlight","onRefresh","fileName","_jsxFileName","lineNumber","columnNumber","onRun","_c","$RefreshReg$"],"sources":["/Users/emivenezian/Desktop/universidad/ingeniera/anÌƒos/cuarto/Segundo Semestre/AviationOptimization/KLM_Projects/KLM_Modified/app/frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { optimizationAPI, OptimizationResult, OptimizationRequest } from '../services/api';\nimport FlightSelector from './FlightSelector';\nimport OptimizationControls from './OptimizationControls';\nimport ResultsVisualization from './ResultsVisualization';\nimport './Dashboard.css';\n\nconst Dashboard: React.FC = () => {\n  const [flights, setFlights] = useState<string[]>([]);\n  const [selectedFlight, setSelectedFlight] = useState<string>('');\n  const [result, setResult] = useState<OptimizationResult | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadFlights();\n  }, []);\n\n  const loadFlights = async () => {\n    try {\n      const flightList = await optimizationAPI.listFlights();\n      setFlights(flightList);\n      if (flightList.length > 0) {\n        setSelectedFlight(flightList[0]);\n      }\n    } catch (err: any) {\n      setError(`Failed to load flights: ${err.message}`);\n    }\n  };\n\n  const runOptimization = async (request: OptimizationRequest) => {\n    setLoading(true);\n    setError(null);\n    setResult(null);\n\n    try {\n      const optimizationResult = await optimizationAPI.run(request);\n      setResult(optimizationResult);\n    } catch (err: any) {\n      setError(err.response?.data?.detail || `Optimization failed: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"main-content\">\n      <FlightSelector\n        flights={flights}\n        selectedFlight={selectedFlight}\n        onSelectFlight={setSelectedFlight}\n        onRefresh={loadFlights}\n      />\n\n      <OptimizationControls\n        selectedFlight={selectedFlight}\n        onRun={runOptimization}\n        loading={loading}\n      />\n\n      {error && (\n        <div className=\"error\">\n          <strong>Error:</strong> {error}\n        </div>\n      )}\n\n      {result && (\n        <ResultsVisualization result={result} />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}