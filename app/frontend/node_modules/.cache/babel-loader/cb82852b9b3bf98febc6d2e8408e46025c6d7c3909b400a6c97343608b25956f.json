{"ast":null,"code":"import axios from 'axios';\nimport { API_ENDPOINTS } from '../config';\n\n// API client\nconst api = axios.create({\n  baseURL: API_ENDPOINTS.optimization.run.split('/api')[0],\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Types (matching backend schemas)\n\n// API functions\nexport const optimizationAPI = {\n  run: async request => {\n    const response = await api.post(API_ENDPOINTS.optimization.run, request);\n    return response.data;\n  },\n  listFlights: async () => {\n    const response = await api.get(API_ENDPOINTS.optimization.flights);\n    return response.data;\n  },\n  generateSynthetic: async params => {\n    const response = await api.post(API_ENDPOINTS.optimization.synthetic, params);\n    return response.data;\n  }\n};\nexport const exportAPI = {\n  toSheets: async (result, spreadsheetId, worksheetName) => {\n    const response = await api.post(API_ENDPOINTS.export.sheets, {\n      result,\n      spreadsheet_id: spreadsheetId,\n      worksheet_name: worksheetName || 'Optimization Results'\n    });\n    return response.data;\n  },\n  sheetsStatus: async () => {\n    const response = await api.get(API_ENDPOINTS.export.sheetsStatus);\n    return response.data;\n  }\n};","map":{"version":3,"names":["axios","API_ENDPOINTS","api","create","baseURL","optimization","run","split","headers","optimizationAPI","request","response","post","data","listFlights","get","flights","generateSynthetic","params","synthetic","exportAPI","toSheets","result","spreadsheetId","worksheetName","export","sheets","spreadsheet_id","worksheet_name","sheetsStatus"],"sources":["/Users/emivenezian/Desktop/universidad/ingeniera/anÌƒos/cuarto/Segundo Semestre/AviationOptimization/KLM_Projects/KLM_Modified/app/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { API_ENDPOINTS } from '../config';\n\n// API client\nconst api = axios.create({\n  baseURL: API_ENDPOINTS.optimization.run.split('/api')[0],\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Types (matching backend schemas)\nexport interface FlightInfo {\n  flight_number: string;\n  departure_airport: string;\n  arrival_airport: string;\n  date: string;\n  aircraft_type?: string;\n  aircraft_registration?: string;\n}\n\n\nexport interface ULDUtilization {\n  total_ulds: number;\n  ulds_by_type: { [key: string]: number };\n  ulds_by_side: { [key: string]: number };\n  utilization_rate: number;\n  items_per_uld: { [key: number]: number };\n  // Extended metrics\n  weight_per_uld?: { [key: number]: number };\n  volume_per_uld?: { [key: number]: number };\n  utilization_by_type?: { [key: string]: number };\n  empty_ulds?: number;\n  average_uld_weight?: number;\n  max_uld_weight?: number;\n  min_uld_weight?: number;\n  average_items_per_uld?: number;\n  uld_weight_distribution?: { [key: string]: number };\n  ull_efficiency_score?: number;\n  max_weight_by_type?: { [key: string]: number };\n  volume_utilization_by_type?: { [key: string]: number };\n}\n\nexport interface WeightDistribution {\n  by_compartment: { [key: string]: number };\n  by_side: { [key: string]: number };\n  by_position: { [key: string]: number };\n  total_weight: number;\n  zfw: number;\n  mac_zfw: number;\n  // Extended metrics\n  weight_percentages_by_compartment?: { [key: string]: number };\n  weight_percentages_by_side?: { [key: string]: number };\n  balance_ratio?: number;\n  compartment_utilization?: { [key: string]: number };\n  position_utilization?: { [key: string]: number };\n  max_weight_per_compartment?: { [key: string]: number };\n  max_weight_per_position?: { [key: string]: number };\n  weight_variance?: number;\n  center_of_gravity_x?: number;\n  center_of_gravity_y?: number;\n}\n\nexport interface CargoMetrics {\n  total_items: number;\n  items_by_type?: { [key: string]: number };\n  items_by_weight_range?: { [key: string]: number };\n  items_without_uld?: number;\n  average_item_weight?: number;\n  max_item_weight?: number;\n  min_item_weight?: number;\n  total_crt_items?: number;\n  total_col_items?: number;\n  total_dangerous_items?: number;\n  total_volume?: number;\n  weight_distribution_by_commodity?: { [key: string]: number };\n  largest_items?: Array<{ index: number; serialnumber: string; weight: number; commodity?: string }>;\n}\n\nexport interface PerformanceMetrics {\n  fuel_savings_kg?: number;\n  fuel_savings_percent?: number;\n  cost_savings_usd?: number;\n  co2_emissions_saved_kg?: number;\n  fuel_consumption_liters?: number;\n  baseline_fuel_kg?: number;\n  optimized_fuel_kg?: number;\n  load_factor?: number;\n  efficiency_score?: number;\n}\n\nexport interface OptimizationMetrics {\n  runtime_seconds?: number;\n  solver_status?: string;\n  objective_value?: number;\n  gap_percent?: number;\n  number_of_variables?: number;\n  number_of_constraints?: number;\n  number_of_iterations?: number;\n  number_of_nodes?: number;\n  solution_time?: number;\n}\n\nexport interface SafetyMetrics {\n  weight_limits_compliance?: { [key: string]: boolean };\n  balance_limits_compliance?: { [key: string]: boolean };\n  cg_limits_compliance?: boolean;\n  restricted_locations_used?: string[];\n  temperature_constraints_violated?: number;\n  separation_constraints_violated?: number;\n  max_weight_exceeded_positions?: string[];\n  safety_score?: number;\n}\n\nexport interface KLMActualMetrics {\n  actual_mac_zfw?: number;\n  actual_weight_by_compartment?: { [key: string]: number };\n  actual_weight_by_side?: { [key: string]: number };\n  actual_total_weight?: number;\n  actual_total_ulds?: number;\n  trip_fuel?: number;\n}\n\nexport interface AnnualImpactMetrics {\n  flights_per_year?: number;\n  fuel_savings_per_year_kg?: number;\n  fuel_savings_per_year_liters?: number;\n  cost_savings_per_year_usd?: number;\n  co2_reduction_per_year_kg?: number;\n  co2_reduction_per_year_tons?: number;\n  fuel_price_per_kg?: number;\n  scaling_factor?: number;\n}\n\nexport interface ComparisonMetrics {\n  klm_actual?: KLMActualMetrics;\n  weight_difference_by_compartment?: { [key: string]: number };\n  weight_difference_by_side?: { [key: string]: number };\n  uld_count_difference?: number;\n  fuel_savings_vs_klm_actual_kg?: number;\n  fuel_savings_vs_klm_actual_percent?: number;\n  cost_savings_vs_klm_actual_usd?: number;\n  co2_savings_vs_klm_actual_kg?: number;\n  mac_difference?: number;\n  improvement_percentage?: number;\n  annual_impact?: AnnualImpactMetrics;\n}\n\nexport interface OptimizationResult {\n  success: boolean;\n  flight_info: FlightInfo;\n  weight_distribution: WeightDistribution;\n  uld_utilization: ULDUtilization;\n  cargo_items: any[];\n  ulds: any[];\n  cargo_metrics?: CargoMetrics;\n  performance_metrics?: PerformanceMetrics;\n  optimization_metrics?: OptimizationMetrics;\n  safety_metrics?: SafetyMetrics;\n  comparison_metrics?: ComparisonMetrics;\n  fuel_savings_kg?: number;\n  fuel_savings_percent?: number;\n  runtime_seconds?: number;\n  error_message?: string;\n  warnings: string[];\n}\n\nexport interface OptimizationRequest {\n  flight_path: string;\n  model_type?: string;\n  restricted_locations?: string[];\n}\n\n// API functions\nexport const optimizationAPI = {\n  run: async (request: OptimizationRequest): Promise<OptimizationResult> => {\n    const response = await api.post(API_ENDPOINTS.optimization.run, request);\n    return response.data;\n  },\n\n  listFlights: async (): Promise<string[]> => {\n    const response = await api.get(API_ENDPOINTS.optimization.flights);\n    return response.data;\n  },\n\n  generateSynthetic: async (params: any) => {\n    const response = await api.post(API_ENDPOINTS.optimization.synthetic, params);\n    return response.data;\n  },\n};\n\nexport const exportAPI = {\n  toSheets: async (result: OptimizationResult, spreadsheetId: string, worksheetName?: string) => {\n    const response = await api.post(API_ENDPOINTS.export.sheets, {\n      result,\n      spreadsheet_id: spreadsheetId,\n      worksheet_name: worksheetName || 'Optimization Results',\n    });\n    return response.data;\n  },\n\n  sheetsStatus: async () => {\n    const response = await api.get(API_ENDPOINTS.export.sheetsStatus);\n    return response.data;\n  },\n};\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,WAAW;;AAEzC;AACA,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEH,aAAa,CAACI,YAAY,CAACC,GAAG,CAACC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EACxDC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;;AAkKA;AACA,OAAO,MAAMC,eAAe,GAAG;EAC7BH,GAAG,EAAE,MAAOI,OAA4B,IAAkC;IACxE,MAAMC,QAAQ,GAAG,MAAMT,GAAG,CAACU,IAAI,CAACX,aAAa,CAACI,YAAY,CAACC,GAAG,EAAEI,OAAO,CAAC;IACxE,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC;EAEDC,WAAW,EAAE,MAAAA,CAAA,KAA+B;IAC1C,MAAMH,QAAQ,GAAG,MAAMT,GAAG,CAACa,GAAG,CAACd,aAAa,CAACI,YAAY,CAACW,OAAO,CAAC;IAClE,OAAOL,QAAQ,CAACE,IAAI;EACtB,CAAC;EAEDI,iBAAiB,EAAE,MAAOC,MAAW,IAAK;IACxC,MAAMP,QAAQ,GAAG,MAAMT,GAAG,CAACU,IAAI,CAACX,aAAa,CAACI,YAAY,CAACc,SAAS,EAAED,MAAM,CAAC;IAC7E,OAAOP,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC;AAED,OAAO,MAAMO,SAAS,GAAG;EACvBC,QAAQ,EAAE,MAAAA,CAAOC,MAA0B,EAAEC,aAAqB,EAAEC,aAAsB,KAAK;IAC7F,MAAMb,QAAQ,GAAG,MAAMT,GAAG,CAACU,IAAI,CAACX,aAAa,CAACwB,MAAM,CAACC,MAAM,EAAE;MAC3DJ,MAAM;MACNK,cAAc,EAAEJ,aAAa;MAC7BK,cAAc,EAAEJ,aAAa,IAAI;IACnC,CAAC,CAAC;IACF,OAAOb,QAAQ,CAACE,IAAI;EACtB,CAAC;EAEDgB,YAAY,EAAE,MAAAA,CAAA,KAAY;IACxB,MAAMlB,QAAQ,GAAG,MAAMT,GAAG,CAACa,GAAG,CAACd,aAAa,CAACwB,MAAM,CAACI,YAAY,CAAC;IACjE,OAAOlB,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}